template(name='users')
    .ui.padded.stackable.grid
        .sixteen.wide.column
            // .ui.button 
            //     |gift count
            // .ui.button 
            //     |gift amount
            // .ui.button 
            //     |credit count
            // .ui.button 
            //     |credit amount
            .ui.header level filter
            .scrollig
                .ui.stackable.six.cards
                    each users
                        +user_item
        .sixteen.wide.column
            +user_cloud




template(name='user_cloud')
    i.tags.icon
    if selected_user_tags
        #clear_tags.ui.primary.icon.compact.button
            i.remove.icon
        each selected_user_tags
            .unselect_tag.ui.primary.compact.button
                strong #{this}
    each all_tags
        .ui.compact.basic.button.select_tag(class=cloud_tag_class) 
            strong #{this.name}


        

template(name='user_item')
    .card.rounded
        a(href="/user/#{username}")
            img.ui.raw.image(src="{{c.url profile_image_id width=400 height=300 crop='fill'}}")    
        .content
            a.ui.header(href="/user/#{username}")
                |#{name}
                //- |#{username}
            // each levels
            //     .ui.label #{this}
            // strong #{credit_count} credits
            strong #{credit_count}/
            strong #{gift_count}
            strong {{credit_ratio}}
            // span ##{global_gift_count_rank}
            // span ##{global_credit_count_rank}
            // .ui.small.header #{points} points
            // each first_five_tags
            //     .ui.circular.basic.label #{this}
            if is_admin
                each levels
                    .ui.label #{this}
                +addtoset_user key='levels' value='member'
                // +addtoset_user key='levels' value='contributor'
                +addtoset_user key='levels' value='explorer'
                +addtoset_user key='levels' value='regenerator'
                +addtoset_user key='levels' value='steward'
        .content
            .ui.two.buttons
                .ui.green.gift.icon.button.gift(title='gift')
                    i.gift.large.icon
                    // |gift
                .ui.teal.icon.button.request(title='request')
                    i.hand.holding.heart.large.icon
                    // |request
                    

template(name='addtoset_user')
    // .ui.small.compact.button.toggle_value(class=ats_class) #{key} #{value}
    .ui.small.compact.button.toggle_value(class=ats_class) +#{value}
