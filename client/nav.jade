template(name='nav')
    .ui.fluid.attached.borderless.inverted.menu.topnav
        a.item(href="/" class="{{isActivePath regex='home'}}")
            +icon name='circled'
            // i.large.tree.icon
        if currentUser
            a.item(href="/users" class="{{isActivePath regex='users'}}" title='members')
                +icolor name='conference-call'
                // i.large.users.icon
                // span.mobile.hidden members
        a.item(href="/events" class="{{isActivePath regex='events'}}" title='events')
            +icolor name='calendar'
            // i.large.calendar.icon
            // span.mobile.hidden events
        a.item(href="/shifts" class="{{isActivePath regex='shifts'}}" title='shifts')
            // i.large.clock.icon
            +icolor name='clock'
            // span.mobile.hidden shifts
        a.item(href="/shop" class="{{isActivePath regex='shop'}}" title='shifts')
            // i.large.shop.icon
            +icolor name='shop'
        a.item(href="/discussions" class="{{isActivePath regex='discussions'}}" title='discussions')
            // i.large.shop.icon
            +icolor name='speech-bubble-with-dots'
            
            // span.mobile.hidden shop
        // a.item(href="/gifts" class="{{isActivePath regex='gifts'}}" title='gifts')
        //     i.big.gift.icon
            // span.mobile.hidden gifts
        a.item(href="/requests" class="{{isActivePath regex='requests'}}" title='requests')
            // i.large.hand.holding.heart.icon
            +icolor name='sell'
            // span.mobile.hidden requests
        a.item(href="/badges" class="{{isActivePath regex='badges'}}" title='badges')
            // i.large.hand.holding.heart.icon
            +icolor name='prize'
            // span.mobile.hidden badges
        a.icon.item(href="/locations" class="{{isActivePath regex='locations'}}" title='locations')
            +icolor name='marker'
        .right.menu
            // a.item.add_gift(class="{{isActivePath regex='gift_edit'}}" title='gift')
            //     i.large.gift.icon
            //     span.mobile.hidden gift
            // a.item.add_request(class="{{isActivePath regex='request_edit'}}" title='request')
            //     i.large.hand.holding.heart.icon
            //     span.mobile.hidden request
            if currentUser
                a.icon.item.add(href="/add" title='add') 
                    i.plus.large.icon
            if is_in_admin
                a.icon.item.toggle_admin
                    i.shield.icon
            if currentUser
                a.large.item(href="/user/#{currentUser.username}" class="{{isActivePath regex='profile_layout'}}")
                    //- i.large.user.large.icon
                    if currentUser.profile_image_id
                        img.ui.avatar.compact.image(src="{{c.url currentUser.profile_image_id height=200 width=200 gravity='face' crop='fill'}}")
                    else 
                        i.large.user.large.icon
                    |#{currentUser.username}
                    |#{currentUser.points}
            else
                a.item(href="/register" title='register')
                    // |login
                    +icon name='add-user-female'
                    // i.large.chevron.right.icon
                a.item(href="/login" title='login')
                    // |login
                    +icon name='login-rounded-right'
                    // i.large.chevron.right.icon
